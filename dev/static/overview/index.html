<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Overview · SMLMSim.jl</title><meta name="title" content="Overview · SMLMSim.jl"/><meta property="og:title" content="Overview · SMLMSim.jl"/><meta property="twitter:title" content="Overview · SMLMSim.jl"/><meta name="description" content="Documentation for SMLMSim.jl."/><meta property="og:description" content="Documentation for SMLMSim.jl."/><meta property="twitter:description" content="Documentation for SMLMSim.jl."/><meta property="og:url" content="https://JuliaSMLM.github.io/SMLMSim.jl/static/overview/"/><meta property="twitter:url" content="https://JuliaSMLM.github.io/SMLMSim.jl/static/overview/"/><link rel="canonical" href="https://JuliaSMLM.github.io/SMLMSim.jl/static/overview/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">SMLMSim.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Core Components</span><ul><li><a class="tocitem" href="../../core/patterns/">Patterns</a></li><li><a class="tocitem" href="../../core/photophysics/">Photophysics</a></li><li><a class="tocitem" href="../../core/noise/">Localization Uncertainty</a></li></ul></li><li><span class="tocitem">Static SMLM</span><ul><li class="is-active"><a class="tocitem" href>Overview</a><ul class="internal"><li><a class="tocitem" href="#Simulation-Workflow"><span>Simulation Workflow</span></a></li><li><a class="tocitem" href="#Simulation-Parameters"><span>Simulation Parameters</span></a></li><li><a class="tocitem" href="#Running-a-Simulation"><span>Running a Simulation</span></a></li><li><a class="tocitem" href="#Understanding-Simulation-Results"><span>Understanding Simulation Results</span></a></li><li><a class="tocitem" href="#Working-with-Results"><span>Working with Results</span></a></li><li><a class="tocitem" href="#2D-vs-3D-Simulations"><span>2D vs 3D Simulations</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li></ul></li><li><span class="tocitem">Diffusion-Interaction</span><ul><li><a class="tocitem" href="../../diffusion/overview/">Overview</a></li><li><a class="tocitem" href="../../diffusion/examples/">Examples</a></li></ul></li><li><a class="tocitem" href="../../images/">Microscope Images</a></li><li><a class="tocitem" href="../../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Static SMLM</a></li><li class="is-active"><a href>Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSMLM/SMLMSim.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSMLM/SMLMSim.jl/blob/main/docs/src/static/overview.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Static-SMLM-Simulation-Overview"><a class="docs-heading-anchor" href="#Static-SMLM-Simulation-Overview">Static SMLM Simulation Overview</a><a id="Static-SMLM-Simulation-Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Static-SMLM-Simulation-Overview" title="Permalink"></a></h1><p>Static SMLM simulation creates fixed molecular patterns with realistic blinking kinetics and localization uncertainty. This approach is ideal for simulating structured biological samples like protein complexes, filaments, and other cellular structures.</p><h2 id="Simulation-Workflow"><a class="docs-heading-anchor" href="#Simulation-Workflow">Simulation Workflow</a><a id="Simulation-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Workflow" title="Permalink"></a></h2><p>Static simulations follow this general workflow:</p><ol><li><strong>Pattern definition</strong>: Define molecular arrangements (e.g., oligomers, lines)</li><li><strong>Pattern distribution</strong>: Distribute patterns throughout the field of view</li><li><strong>Photophysics</strong>: Apply stochastic blinking behavior to each molecule</li><li><strong>Localization uncertainty</strong>: Add realistic position errors based on photon counts</li></ol><h2 id="Simulation-Parameters"><a class="docs-heading-anchor" href="#Simulation-Parameters">Simulation Parameters</a><a id="Simulation-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Parameters" title="Permalink"></a></h2><p>Static simulations are configured using the <code>StaticSMLMParams</code> type:</p><pre><code class="language-julia hljs"># Default parameters
params = StaticSMLMParams()

# Custom parameters
params = StaticSMLMParams(
    density=2.0,                # 2 patterns per μm²
    σ_psf=0.15,           # 150nm PSF width
    minphotons=100,       # Minimum photons for detection
    ndatasets=5,          # Number of independent datasets
    nframes=2000,         # Frames per dataset
    framerate=100.0,      # Frames per second
    ndims=3,              # 3D simulation
    zrange=[-2.0, 2.0]    # 4μm axial range
)</code></pre><h3 id="Key-Parameters"><a class="docs-heading-anchor" href="#Key-Parameters">Key Parameters</a><a id="Key-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Parameters" title="Permalink"></a></h3><ul><li><strong><code>density</code></strong>: Number of patterns per square micron</li><li><strong><code>σ_psf</code></strong>: Point spread function width in microns (impacts localization precision)</li><li><strong><code>minphotons</code></strong>: Minimum photons required for detection</li><li><strong><code>nframes</code></strong>: Number of frames in the simulation</li><li><strong><code>framerate</code></strong>: Frame rate in frames per second</li><li><strong><code>ndims</code></strong>: Dimensionality (2 or 3)</li><li><strong><code>zrange</code></strong>: Axial range for 3D simulations</li></ul><h2 id="Running-a-Simulation"><a class="docs-heading-anchor" href="#Running-a-Simulation">Running a Simulation</a><a id="Running-a-Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Running-a-Simulation" title="Permalink"></a></h2><p>The high-level <code>simulate()</code> function provides a simple interface for static simulations:</p><pre><code class="language-julia hljs"># Define a camera
camera = IdealCamera(128, 128, 0.1)  # 128×128 pixels, 100nm pixels

# Run simulation with parameters
smld_true, smld_model, smld_noisy = simulate(
    params,
    pattern=Nmer2D(n=6, d=0.2),  # hexamer with 200nm diameter
    molecule=GenericFluor(1e4, [-10.0 10.0; 0.5 -0.5]),  # fluorophore model
    camera=camera
)</code></pre><p>Alternatively, you can use keyword arguments directly:</p><pre><code class="language-julia hljs">smld_true, smld_model, smld_noisy = simulate(
    density=1.0,                # patterns per μm²
    σ_psf=0.13,           # PSF width in μm
    nframes=1000,         # frames
    framerate=50.0,       # frames per second
    pattern=Nmer2D(n=8, d=0.1),  # pattern type
    molecule=GenericFluor(1e4, [-10.0 10.0; 0.5 -0.5]), # γ=1e4, k_off=10, k_on=0.5
    camera=camera
)</code></pre><h2 id="Understanding-Simulation-Results"><a class="docs-heading-anchor" href="#Understanding-Simulation-Results">Understanding Simulation Results</a><a id="Understanding-Simulation-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Understanding-Simulation-Results" title="Permalink"></a></h2><p>The <code>simulate()</code> function returns three <code>SMLD</code> objects:</p><ol><li><p><strong><code>smld_true</code></strong>: Ground truth emitter positions</p><ul><li>Contains the exact coordinates of all emitters</li><li>Single frame (no temporal information)</li><li>No blinking or noise applied</li></ul></li><li><p><strong><code>smld_model</code></strong>: Positions with blinking kinetics</p><ul><li>Subset of true positions appearing in different frames</li><li>Realistic blinking behavior based on kinetic model</li><li>No position uncertainty (exact coordinates)</li></ul></li><li><p><strong><code>smld_noisy</code></strong>: Positions with blinking and localization uncertainty</p><ul><li>Same temporal distribution as <code>smld_model</code></li><li>Position noise based on photon statistics</li><li>Most comparable to real experimental data</li></ul></li></ol><p>Each SMLD object contains emitters with properties like position, frame number, photon count, and uncertainties.</p><h2 id="Working-with-Results"><a class="docs-heading-anchor" href="#Working-with-Results">Working with Results</a><a id="Working-with-Results-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Results" title="Permalink"></a></h2><p>You can extract information from the simulation results for analysis or visualization:</p><pre><code class="language-julia hljs"># Extract coordinates from noisy emitters
x_noisy = [e.x for e in smld_noisy.emitters]
y_noisy = [e.y for e in smld_noisy.emitters]
photons = [e.photons for e in smld_noisy.emitters]
frames = [e.frame for e in smld_noisy.emitters]

# Group emitters by original position using track_id
emitters_by_position = Dict()
for e in smld_noisy.emitters
    if !haskey(emitters_by_position, e.track_id)
        emitters_by_position[e.track_id] = []
    end
    push!(emitters_by_position[e.track_id], e)
end</code></pre><h2 id="2D-vs-3D-Simulations"><a class="docs-heading-anchor" href="#2D-vs-3D-Simulations">2D vs 3D Simulations</a><a id="2D-vs-3D-Simulations-1"></a><a class="docs-heading-anchor-permalink" href="#2D-vs-3D-Simulations" title="Permalink"></a></h2><p>The dimensionality of the simulation is controlled by both the <code>ndims</code> parameter and the pattern type:</p><pre><code class="language-julia hljs"># 2D simulation
params = StaticSMLMParams(ndims=2)
pattern2d = Nmer2D(n=6, d=0.2)
smld_true_2d, smld_model_2d, smld_noisy_2d = simulate(params, pattern=pattern2d)

# 3D simulation
params = StaticSMLMParams(ndims=3, zrange=[-2.0, 2.0])
pattern3d = Nmer3D(n=6, d=0.2)
smld_true_3d, smld_model_3d, smld_noisy_3d = simulate(params, pattern=pattern3d)</code></pre><p>For 3D simulations, the localization uncertainty is automatically scaled in the axial dimension to reflect the typically lower z-resolution in SMLM experiments.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../core/noise/">« Localization Uncertainty</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Monday 28 April 2025 22:27">Monday 28 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
